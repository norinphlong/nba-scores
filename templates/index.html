<!DOCTYPE html>
<html>
<head>
    <title>NBA Live Scores</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        body {
            font-family: SF Pro Display, SF Pro Icons, Helvetica Neue, Helvetica, Arial, sans-serif;
            background-color: #f4f4f4;
            padding: 2rem;
        }
        h1 {
            color: #fff;
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            background: #fff;
            padding: 10px;
            margin-bottom: 10px;
            border-left: 5px solid #007bff;
        }
        li.live {
            background-color: #d4edda;  /* Light green for live games */
            border-left: 5px solid #28a745; /* Green border for live games */
        }
        img {
            width: 30px;
            height: auto;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <h1>NBA Live Scores</h1>
    <ul id="scores"></ul>

    <script>
        async function fetchScores() {
            const res = await fetch('/scores');
            const data = await res.json();
            const list = document.getElementById("scores");
            list.innerHTML = "";
    
            if (data.error) {
                list.innerHTML = `<li>Error: ${data.error}</li>`;
                return;
            }
    
            data.forEach(game => {
                const li = document.createElement("li");
                if (game.is_live) {
                    li.classList.add("live");  // Add the 'live' class for live games
                }
                li.innerHTML = `
                    <strong>${game.away}</strong> vs <strong>${game.home}</strong>
                    <span>Score: ${game.score}</span><br>
                    <img src="${game.away_logo}" alt="${game.away} logo">
                    <img src="${game.home_logo}" alt="${game.home} logo">
                `;
                list.appendChild(li);
            });
        }
    
        fetchScores();
        setInterval(fetchScores, 60000); // refresh every 60 seconds
    </script>
</body>
</html>
